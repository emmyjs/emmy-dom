<!DOCTYPE html>
  <html>
    <head>
      <title>Emmy DOM</title>
    </head>
    <body>
      <emmy-index state="{'rerenderCount':0}"><emmy-app state="{'rerenderCount':0}" class="home">
    <div>hello world</div>
    <emmy-counter state="{'rerenderCount':0}" emmy-hydratation="true">
    <div>0</div>
    <button id="add">+</button>
  </emmy-counter></emmy-app></emmy-index>
  <script type="module">
    import { load } from 'emmy-dom';
    
    const index = function() {
  return "<App />";
}
    load(index, 'Index');
    document.querySelectorAll('index').forEach((element) => {
      element.connectedCallback();
    });
  
    const app = function() {
  return this.className = "home", `
    <div>hello world</div>
    <Counter />
  `;
}
    load(app, 'App');
    document.querySelectorAll('app').forEach((element) => {
      element.connectedCallback();
    });
  
    const counter = function() {
  const [count, setCount] = this.useState(0);
  return this.useEffect(() => {
    this.querySelector("#add").addEventListener("click", () => {
      setCount(count() + 1);
    });
  }, ["didMount"]), this.useEffect(() => {
    this.querySelector("div").innerText = count();
  }, [count]), `
    <div>${count()}</div>
    <button id='add'>+</button>
  `;
}
    load(counter, 'Counter');
    document.querySelectorAll('counter').forEach((element) => {
      element.connectedCallback();
    });
  
  </script>
  
    </body>
  </html>